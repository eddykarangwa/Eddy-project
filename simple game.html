<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>4x4 Sliding Puzzle</title>

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #1e3c72, #2a5298);
  font-family: 'Segoe UI', sans-serif;
}

.game-container {
  text-align: center;
  background: #ffffff;
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 15px 35px rgba(0,0,0,0.25);
  width: 380px;
}

h1 {
  margin-bottom: 10px;
  color: #333;
}

.grid {
  display: grid;
  grid-template-columns: repeat(4, 80px);
  grid-template-rows: repeat(4, 80px);
  gap: 8px;
  margin: 20px auto;
}

.tile {
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(145deg, #4facfe, #00f2fe);
  color: white;
  font-size: 22px;
  font-weight: bold;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  user-select: none;
}

.tile:hover {
  transform: scale(1.07);
}

.empty {
  background: #e5e7eb;
  cursor: default;
}

button {
  padding: 10px 18px;
  border: none;
  background: #2a5298;
  color: white;
  border-radius: 8px;
  font-size: 15px;
  cursor: pointer;
  transition: 0.2s;
}

button:hover {
  background: #1e3c72;
}
</style>
</head>

<body>

<div class="game-container">
  <h1>ðŸ§© 4x4 Puzzle</h1>
  <div class="grid" id="grid"></div>
  <button onclick="shuffle()">Shuffle</button>
</div>

<script>
const grid = document.getElementById("grid");
let tiles = [...Array(15).keys()].map(n => n + 1).concat("");

function createGrid() {
  grid.innerHTML = "";
  tiles.forEach((tile, index) => {
    const div = document.createElement("div");
    div.classList.add("tile");
    if (tile === "") {
      div.classList.add("empty");
    } else {
      div.textContent = tile;
      div.addEventListener("click", () => moveTile(index));
    }
    grid.appendChild(div);
  });
}

function moveTile(index) {
  const emptyIndex = tiles.indexOf("");
  const validMoves = [
    emptyIndex - 1,
    emptyIndex + 1,
    emptyIndex - 4,
    emptyIndex + 4
  ];

  if (validMoves.includes(index) &&
     !(emptyIndex % 4 === 0 && index === emptyIndex - 1) &&
     !(emptyIndex % 4 === 3 && index === emptyIndex + 1)) {
    [tiles[index], tiles[emptyIndex]] = [tiles[emptyIndex], tiles[index]];
    createGrid();
    checkWin();
  }
}

function shuffle() {
  do {
    tiles.sort(() => Math.random() - 0.5);
  } while (!isSolvable() || isSolved());
  createGrid();
}

function isSolved() {
  const win = [...Array(15).keys()].map(n => n + 1).concat("");
  return tiles.join() === win.join();
}

function isSolvable() {
  let invCount = 0;
  for (let i = 0; i < 15; i++) {
    for (let j = i + 1; j < 16; j++) {
      if (tiles[i] && tiles[j] && tiles[i] > tiles[j]) invCount++;
    }
  }
  const emptyRow = Math.floor(tiles.indexOf("") / 4);
  return (invCount + emptyRow) % 2 === 1;
}

function checkWin() {
  if (isSolved()) {
    setTimeout(() => alert("ðŸŽ‰ Congratulations! You solved it!"), 200);
  }
}

createGrid();
</script>

</body>
</html>
S